{% extends 'core/base.html'%}
<!--  -->
{% block content %}
<!--  -->
<h1 class="text-2xl">Chat Admin</h1>
<!-- List all user on these page than -->
<!-- check out permissions if user can add users -->
{% if perms.user.add_user %}
<!--  -->
<div class="mt-8">
  <h2 class="mt-4 text-lg">Users</h2>
  <!-- Button adding users -->
  <a
    href="{% url 'chat:add_user'%}"
    class="inline-block py-2 px-6 bg-rose-600 text-white rounded-xl"
    >Add user</a
  >
  <!-- list out all users in chat rooms -->
  <div class="mt-6">
    <!--  -->
    {% for user in users %}
    <div
      class="grid grid-cols-4 gap-4 py-2 {%cycle 'bg-gray-100' 'bg-blue-100' %}"
    >
      <p class="px-2">
        <!--  -->
        {{user.name}}
        <!--  -->
      </p>
      <p>{{user.email}}</p>

      <p>{{user.get_role_display}}</p>
      <p class="px-2">
        <!--  -->
        <a href="#" class="underline text-right"> Edit </a>
        <!--  -->
      </p>
    </div>
    <!--  -->
    {% endfor %}
  </div>
</div>
<!--  -->
{% endif%}
<!--  -->
<!-- List out all Chat_rooms -->
<hr class="my-6" />
<div class="mt-8">
  <h2 class="mb-4 text-lg">Rooms</h2>
  <!-- from  external resource -->
  {% include 'chat/partials/room_list.html' %}
</div>
<!--  -->
{% endblock %}
